<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.awethumb.repository.dao.DetailBoardDAO">
	
	<select id="selectBoardList" resultType="Board">
		select *
		  from board_tb
	</select>
	
	<select id="selectImgList" parameterType="int" resultType="Board">
		select *
		  from board_file_tb
		 where post_no = ${postNo}
	</select>
	
	<insert id="insertBoard" parameterType="Board">
		insert into board_tb (
			project_no, post_content, x_coord, y_coord, width, hight
		) values (
			${projectNo}, '${postContent}', 0, 0, 1, 1
		);
	</insert>
	
	<!-- 글 번호로 글쓴이의 정보 받아옴 -->
	<select id="selectWriter" parameterType="int" resultType="String">
		select user_id 
		from user_tb
		where user_no = (
			select user_no 
			from project_tb 
			where project_no = (
				select project_no 
				from board_tb 
				where post_no = ${postNo}
			)
		);
	</select>
	
</mapper>




